<!DOCTYPE HTML>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Niveau 1</title>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="game.js"></script>
</head>

<body>

    <audio id="backgroundMusic" autoplay loop>
        <source src="./music/stage1.mp3" type="audio/mpeg">
    </audio>

    <script>
        window.addEventListener('load', function () {
            var audio = document.getElementById('backgroundMusic');
            audio.volume = 0.02;
            audio.play();
        });

        var htmlImage = "url('img/school.jpg')";
        var nextLevel = "Stage2.html";
        var floorHeight = 150;

        var deathwalls = [];
        var walls = [];

        // JSON pour deathwalls
        fetch('../aventuretri/json/level1_deathwalls.json')
            .then(response => response.json())
            .then(data => {
                deathwalls = data.map(obj => new Murs(obj.x, obj.y, obj.width, obj.height, obj.color, obj.speed));
            });

        // JSON pour walls
        fetch('../aventuretri/json/level1_walls.json')
            .then(response => response.json())
            .then(data => {
                walls = data.map(obj => new Murs(obj.x, obj.y, obj.width, obj.height, obj.color, obj.speed));
            });

    </script>
    <script src="game.js"></script>
</body>

</html>
